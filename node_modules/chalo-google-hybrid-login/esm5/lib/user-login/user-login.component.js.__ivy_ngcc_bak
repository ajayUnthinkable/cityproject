/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import { Component, EventEmitter, Output } from '@angular/core';
import { FormBuilder, Validators } from '@angular/forms';
import { GoogleLoginService } from '../chalo-google-hybrid-login.service';
import { StatusCode } from '../models';
var UserLoginComponent = /** @class */ (function () {
    function UserLoginComponent(fb, loginService) {
        this.fb = fb;
        this.loginService = loginService;
        this.onSignInResponse = new EventEmitter();
        this.initializeForm();
    }
    /**
     * @return {?}
     */
    UserLoginComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    UserLoginComponent.prototype.initializeForm = /**
     * @return {?}
     */
    function () {
        this.loginForm = this.fb.group({
            userId: [null, Validators.required],
            staticPassword: [null, Validators.required]
        });
    };
    /**
     * @return {?}
     */
    UserLoginComponent.prototype.onSubmit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.loginForm.valid) {
            /** @type {?} */
            var body = this.loginForm.getRawValue();
            this.loginService.validateUser({
                data: this.loginService.encryptCookie(JSON.stringify(body))
            }).subscribe(function (res) {
                _this.loginService.getUserToken(res).subscribe(function (data) {
                    _this.loginService.setCookieData(data);
                    _this.onSignInResponse.emit({ code: StatusCode.Success, data: data });
                }, function (err) {
                    _this.onSignInResponse.emit({ code: StatusCode.Failure, data: err });
                });
            }, function (err) {
                _this.onSignInResponse.emit({ code: StatusCode.Failure, data: err });
            });
        }
    };
    UserLoginComponent.decorators = [
        { type: Component, args: [{
                    selector: 'user-login',
                    template: "<div class=\"form-group\">\n  <form [formGroup]=\"loginForm\">\n    <mat-form-field appearance=\"outline\">\n      <input\n        matInput\n        placeholder=\"Enter User Id\"\n        formControlName=\"userId\"\n        required\n        autocomplete=\"off\"\n      />\n    </mat-form-field>\n    <mat-form-field appearance=\"outline\">\n      <input\n        matInput\n        type=\"password\"\n        placeholder=\"Enter Password\"\n        formControlName=\"staticPassword\"\n        required\n        autocomplete=\"off\"\n      />\n    </mat-form-field>\n    <div class=\"button-container\">\n      <button\n        class=\"cstm-button active\"\n        type=\"button\"\n        [disabled]=\"!loginForm.valid\"\n        (click)=\"onSubmit()\"\n      >\n        <a class=\"btn-text\">Continue</a>\n      </button>\n    </div>\n  </form>\n</div>\n",
                    styles: [".form-group{text-align:center;font-size:12px}.form-control{height:40px;border-radius:2px;box-shadow:none}.form-control:focus{border-color:#eee}.cstm-button{background:0 0;border:1px solid #f47c21;border-radius:5px;text-align:center;width:100%;padding:8px 10px;display:inline-block;line-height:20px;margin-left:0!important}.btn-text{text-decoration:none;color:#f47c21;font-weight:700;font-size:14px}.cstm-button:disabled{cursor:not-allowed!important}.cstm-button.active{cursor:pointer;background:#f47c21}::ng-deep .mat-form-field-flex{border:0!important}::ng-deep .mat-form-field-infix{padding:8px 16px}::ng-deep .mat-form-field-infix:focus{outline:#f47c21 solid 2px}"]
                }] }
    ];
    /** @nocollapse */
    UserLoginComponent.ctorParameters = function () { return [
        { type: FormBuilder },
        { type: GoogleLoginService }
    ]; };
    UserLoginComponent.propDecorators = {
        onSignInResponse: [{ type: Output }]
    };
    return UserLoginComponent;
}());
export { UserLoginComponent };
if (false) {
    /** @type {?} */
    UserLoginComponent.prototype.loginForm;
    /** @type {?} */
    UserLoginComponent.prototype.onSignInResponse;
    /** @type {?} */
    UserLoginComponent.prototype.fb;
    /** @type {?} */
    UserLoginComponent.prototype.loginService;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1sb2dpbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9jaGFsby1nb29nbGUtaHlicmlkLWxvZ2luLyIsInNvdXJjZXMiOlsibGliL3VzZXItbG9naW4vdXNlci1sb2dpbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4RSxPQUFPLEVBQUUsV0FBVyxFQUEwQixVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNqRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUMxRSxPQUFPLEVBQXVCLFVBQVUsRUFBRSxNQUFNLFdBQVcsQ0FBQzs7SUFXMUQsNEJBQ1UsSUFDQTtRQURBLE9BQUUsR0FBRixFQUFFO1FBQ0YsaUJBQVksR0FBWixZQUFZO2dDQUowQyxJQUFJLFlBQVksRUFBdUI7UUFNckcsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0tBQ3ZCOzs7O0lBRUQscUNBQVE7OztJQUFSO0tBQ0M7Ozs7SUFFRCwyQ0FBYzs7O0lBQWQ7UUFDRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzdCLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDO1lBQ25DLGNBQWMsRUFBRSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDO1NBQzVDLENBQUMsQ0FBQTtLQUNIOzs7O0lBRUQscUNBQVE7OztJQUFSO1FBQUEsaUJBZ0JDO1FBZkMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDOztZQUN6QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3hDLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDO2dCQUM3QixJQUFJLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUM1RCxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQUMsR0FBRztnQkFDZixLQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBQyxJQUFJO29CQUNqRCxLQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtvQkFDckMsS0FBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxVQUFVLENBQUMsT0FBTyxFQUFFLElBQUksTUFBQSxFQUFFLENBQUMsQ0FBQTtpQkFDL0QsRUFBRSxVQUFDLEdBQUc7b0JBQ0wsS0FBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxVQUFVLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO2lCQUNyRSxDQUFDLENBQUM7YUFDSixFQUFFLFVBQUMsR0FBRztnQkFDTCxLQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7YUFDckUsQ0FBQyxDQUFBO1NBQ0g7S0FDRjs7Z0JBMUNGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsWUFBWTtvQkFDdEIsbzJCQUEwQzs7aUJBRTNDOzs7O2dCQVJRLFdBQVc7Z0JBQ1gsa0JBQWtCOzs7bUNBVXhCLE1BQU07OzZCQVpUOztTQVVhLGtCQUFrQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Db250cm9sLCBGb3JtR3JvdXAsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBHb29nbGVMb2dpblNlcnZpY2UgfSBmcm9tICcuLi9jaGFsby1nb29nbGUtaHlicmlkLWxvZ2luLnNlcnZpY2UnO1xuaW1wb3J0IHsgR29vZ2xlTG9naW5SZXNwb25zZSwgU3RhdHVzQ29kZSB9IGZyb20gJy4uL21vZGVscyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3VzZXItbG9naW4nLFxuICB0ZW1wbGF0ZVVybDogJy4vdXNlci1sb2dpbi5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3VzZXItbG9naW4uY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIFVzZXJMb2dpbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIGxvZ2luRm9ybTogRm9ybUdyb3VwO1xuICBAT3V0cHV0KCkgb25TaWduSW5SZXNwb25zZTogRXZlbnRFbWl0dGVyPEdvb2dsZUxvZ2luUmVzcG9uc2U+ID0gbmV3IEV2ZW50RW1pdHRlcjxHb29nbGVMb2dpblJlc3BvbnNlPigpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyLFxuICAgIHByaXZhdGUgbG9naW5TZXJ2aWNlOiBHb29nbGVMb2dpblNlcnZpY2U8YW55PlxuICApIHtcbiAgICB0aGlzLmluaXRpYWxpemVGb3JtKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgfVxuXG4gIGluaXRpYWxpemVGb3JtKCkge1xuICAgIHRoaXMubG9naW5Gb3JtID0gdGhpcy5mYi5ncm91cCh7XG4gICAgICB1c2VySWQ6IFtudWxsLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgIHN0YXRpY1Bhc3N3b3JkOiBbbnVsbCwgVmFsaWRhdG9ycy5yZXF1aXJlZF1cbiAgICB9KVxuICB9XG5cbiAgb25TdWJtaXQoKSB7XG4gICAgaWYgKHRoaXMubG9naW5Gb3JtLnZhbGlkKSB7XG4gICAgICBsZXQgYm9keSA9IHRoaXMubG9naW5Gb3JtLmdldFJhd1ZhbHVlKCk7XG4gICAgICB0aGlzLmxvZ2luU2VydmljZS52YWxpZGF0ZVVzZXIoe1xuICAgICAgICBkYXRhOiB0aGlzLmxvZ2luU2VydmljZS5lbmNyeXB0Q29va2llKEpTT04uc3RyaW5naWZ5KGJvZHkpKVxuICAgICAgfSkuc3Vic2NyaWJlKChyZXMpID0+IHtcbiAgICAgICAgdGhpcy5sb2dpblNlcnZpY2UuZ2V0VXNlclRva2VuKHJlcykuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dpblNlcnZpY2Uuc2V0Q29va2llRGF0YShkYXRhKVxuICAgICAgICAgIHRoaXMub25TaWduSW5SZXNwb25zZS5lbWl0KHsgY29kZTogU3RhdHVzQ29kZS5TdWNjZXNzLCBkYXRhIH0pXG4gICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLm9uU2lnbkluUmVzcG9uc2UuZW1pdCh7IGNvZGU6IFN0YXR1c0NvZGUuRmFpbHVyZSwgZGF0YTogZXJyIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5vblNpZ25JblJlc3BvbnNlLmVtaXQoeyBjb2RlOiBTdGF0dXNDb2RlLkZhaWx1cmUsIGRhdGE6IGVyciB9KTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbn1cbiJdfQ==