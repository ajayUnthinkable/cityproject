{"version":3,"file":"ngx-cookie-service.es5.js","sources":["ts/lib/cookie-service/cookie.service.ts","ts/lib/ngx-cookie-service.ts"],"names":[],"mappings":"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","sourcesContent":["// This service is based on the `ng2-cookies` package which sadly is not a service and does\n// not use `DOCUMENT` injection and therefore doesn't work well with AoT production builds.\n// Package: https://github.com/BCJTI/ng2-cookies\n\n\nimport { Injectable, Inject, PLATFORM_ID, InjectionToken } from '@angular/core';\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nexport class CookieService {\nprivate readonly documentIsAccessible: boolean;\n/**\n * @param {?} document\n * @param {?} platformId\n */\nconstructor(\nprivate document: any,\nprivate platformId: InjectionToken<Object>,\n  ) {\n    this.documentIsAccessible = isPlatformBrowser( this.platformId );\n  }\n/**\n * @param {?} name Cookie name\n * @return {?}\n */\ncheck( name: string ): boolean {\n    if ( !this.documentIsAccessible ) {\n      return false;\n    }\n\n    name = encodeURIComponent( name );\n\n    const /** @type {?} */ regExp: RegExp = this.getCookieRegExp( name );\n    const /** @type {?} */ exists: boolean = regExp.test( this.document.cookie );\n\n    return exists;\n  }\n/**\n * @param {?} name Cookie name\n * @return {?}\n */\nget( name: string ): string {\n    if ( this.documentIsAccessible && this.check( name ) ) {\n      name = encodeURIComponent( name );\n\n      const /** @type {?} */ regExp: RegExp = this.getCookieRegExp( name );\n      const /** @type {?} */ result: RegExpExecArray = regExp.exec( this.document.cookie );\n\n      return decodeURIComponent( result[ 1 ] );\n    } else {\n      return '';\n    }\n  }\n/**\n * @return {?}\n */\ngetAll(): {} {\n    if ( !this.documentIsAccessible ) {\n      return {};\n    }\n\n    const /** @type {?} */ cookies: {} = {};\n    const /** @type {?} */ document: any = this.document;\n\n    if ( document.cookie && document.cookie !== '' ) {\n      const /** @type {?} */ split: Array<string> = document.cookie.split(';');\n\n      for ( let /** @type {?} */ i = 0; i < split.length; i += 1 ) {\n        const /** @type {?} */ currentCookie: Array<string> = split[ i ].split('=');\n\n        currentCookie[ 0 ] = currentCookie[ 0 ].replace( /^ /, '' );\n        cookies[ decodeURIComponent( currentCookie[ 0 ] ) ] = decodeURIComponent( currentCookie[ 1 ] );\n      }\n    }\n\n    return cookies;\n  }\n/**\n * @param {?} name     Cookie name\n * @param {?} value    Cookie value\n * @param {?=} expires  Number of days until the cookies expires or an actual `Date`\n * @param {?=} path     Cookie path\n * @param {?=} domain   Cookie domain\n * @param {?=} secure   Secure flag\n * @param {?=} sameSite OWASP samesite token `Lax`, `None`, or `Strict`. Defaults to `None`\n * @return {?}\n */\nset(\n    name: string,\n    value: string,\n    expires?: number | Date,\n    path?: string,\n    domain?: string,\n    secure?: boolean,\n    sameSite: 'Lax' | 'None' | 'Strict' = 'None'\n  ): void {\n    if ( !this.documentIsAccessible ) {\n      return;\n    }\n\n    let /** @type {?} */ cookieString: string = encodeURIComponent( name ) + '=' + encodeURIComponent( value ) + ';';\n\n    if ( expires ) {\n      if ( typeof expires === 'number' ) {\n        const /** @type {?} */ dateExpires: Date = new Date( new Date().getTime() + expires * 1000 * 60 * 60 * 24 );\n\n        cookieString += 'expires=' + dateExpires.toUTCString() + ';';\n      } else {\n        cookieString += 'expires=' + expires.toUTCString() + ';';\n      }\n    }\n\n    if ( path ) {\n      cookieString += 'path=' + path + ';';\n    }\n\n    if ( domain ) {\n      cookieString += 'domain=' + domain + ';';\n    }\n\n    if ( secure ) {\n      cookieString += 'secure;';\n    }\n\n    cookieString += 'sameSite=' + sameSite + ';';\n\n    this.document.cookie = cookieString;\n  }\n/**\n * @param {?} name   Cookie name\n * @param {?=} path   Cookie path\n * @param {?=} domain Cookie domain\n * @return {?}\n */\ndelete( name: string, path?: string, domain?: string ): void {\n    if ( !this.documentIsAccessible ) {\n      return;\n    }\n\n    this.set( name, '', new Date('Thu, 01 Jan 1970 00:00:01 GMT'), path, domain, undefined, 'Lax' );\n  }\n/**\n * @param {?=} path   Cookie path\n * @param {?=} domain Cookie domain\n * @return {?}\n */\ndeleteAll( path?: string, domain?: string ): void {\n    if ( !this.documentIsAccessible ) {\n      return;\n    }\n\n    const /** @type {?} */ cookies: any = this.getAll();\n\n    for ( const /** @type {?} */ cookieName in cookies ) {\n      if ( cookies.hasOwnProperty( cookieName ) ) {\n        this.delete( cookieName, path, domain );\n      }\n    }\n  }\n/**\n * @param {?} name Cookie name\n * @return {?}\n */\nprivate getCookieRegExp( name: string ): RegExp {\n    const /** @type {?} */ escapedName: string = name.replace( /([\\[\\]\\{\\}\\(\\)\\|\\=\\;\\+\\?\\,\\.\\*\\^\\$])/ig, '\\\\$1' );\n\n    return new RegExp( '(?:^' + escapedName + '|;\\\\s*' + escapedName + ')=(.*?)(?:;|$)', 'g' );\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: InjectionToken, decorators: [{ type: Inject, args: [PLATFORM_ID, ] }, ]},\n];\n}\n\nfunction CookieService_tsickle_Closure_declarations() {\n/** @type {?} */\nCookieService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCookieService.ctorParameters;\n/** @type {?} */\nCookieService.prototype.documentIsAccessible;\n/** @type {?} */\nCookieService.prototype.document;\n/** @type {?} */\nCookieService.prototype.platformId;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport {CookieService} from './index';\n"]}